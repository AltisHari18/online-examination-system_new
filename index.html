<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Online Examination System</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div id="tsparticles"></div>

<div class="background"></div>
<div class="mountains"></div>

<div class="login-card">

    <h2>Login</h2>

    <div class="form-group">
    <div class="custom-select" id="customRole">
        <div class="select-selected">
            ğŸ“ Student
        </div>

        <div class="select-options">
            <div data-value="student">ğŸ“ Student</div>
            <div data-value="teacher">ğŸ‘¨â€ğŸ« Teacher</div>
        </div>
    </div>
    <input type="hidden" id="role" value="student">
</div>

    <div class="form-group">
        <input type="email" id="email" placeholder="Email">
    </div>

    <div class="form-group password-group">
        <input type="password" id="password" placeholder="Password">
        <span id="togglePassword">ğŸ‘</span>
    </div>

    <div class="options">
        <label>
            <input type="checkbox"> Remember me
        </label>
        
    </div>

    <button id="loginBtn">Login</button>

    <p class="register-text">
        Donâ€™t have an account?
        <span id="registerBtn">Register</span>
    </p>

    <p id="message"></p>

</div>

<!-- Firebase Scripts -->
<script type="module" src="js/firebase-config.js"></script>
<script type="module" src="js/auth.js"></script>

<script>
document.getElementById("togglePassword").addEventListener("click", () => {
    const pass = document.getElementById("password");
    pass.type = pass.type === "password" ? "text" : "password";
});
</script>
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
<script>
tsParticles.load("tsparticles", {
  particles: {
    number: { value: 40 },
    size: { value: 2 },
    move: { speed: 1 },
    opacity: { value: 0.5 }
  }
});
</script>
<script>
const customSelect = document.getElementById("customRole");
const selected = customSelect.querySelector(".select-selected");
const options = customSelect.querySelector(".select-options");

selected.addEventListener("click", () => {
    options.style.display = options.style.display === "flex" ? "none" : "flex";
});

options.querySelectorAll("div").forEach(option => {
    option.addEventListener("click", () => {

        // Change visible selected text
        selected.innerHTML = option.innerHTML;

        // ğŸ”¥ IMPORTANT: update hidden role input
        document.getElementById("role").value = option.dataset.value;

        // Close dropdown
        options.style.display = "none";
    });
});

document.addEventListener("click", (e) => {
    if (!customSelect.contains(e.target)) {
        options.style.display = "none";
    }
});
</script>
</body>


</html>